(self.webpackChunkrport_site=self.webpackChunkrport_site||[]).push([[154],{205:(n,e,s)=>{"use strict";s.r(e),s.d(e,{data:()=>a});const a={key:"v-58deef70",path:"/docs/no04-client-groups.html",title:"Client Groups",lang:"en-DE",frontmatter:{},excerpt:"",headers:[{level:2,title:"Manage client groups via the API",slug:"manage-client-groups-via-the-api",children:[{level:3,title:"Create",slug:"create",children:[]},{level:3,title:"Update",slug:"update",children:[]},{level:3,title:"List all client groups",slug:"list-all-client-groups",children:[]},{level:3,title:"Delete",slug:"delete",children:[]}]}],filePathRelative:"docs/no04-client-groups.md"}},185:(n,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>m});var a=s(6252);const t=(0,a.Wm)("h1",{id:"client-groups"},[(0,a.Wm)("a",{class:"header-anchor",href:"#client-groups"},"#"),(0,a.Uk)(" Client Groups")],-1),l=(0,a.Wm)("p",null,"Rport client group can be created by:",-1),u=(0,a.Wm)("ol",null,[(0,a.Wm)("li",null,"adding single clients to it;"),(0,a.Wm)("li",null,"dynamic criteria using wildcards.")],-1),o=(0,a.Uk)("Managing client groups is done via the "),r={href:"https://petstore.swagger.io/?url=https://raw.githubusercontent.com/cloudradar-monitoring/rport/master/api-doc.yml#/Client%20Groups",target:"_blank",rel:"noopener noreferrer"},i=(0,a.Uk)("API"),p=(0,a.Uk)(". The "),c=(0,a.Wm)("code",null,"/client-groups",-1),b=(0,a.Uk)(" endpoints allow you to create, update, delete and list them."),d=(0,a.uE)('<p>As listed in the API docs Client Group is defined by:</p><ul><li><p><code>id</code> - unique group identifier</p></li><li><p><code>description</code> - group description</p></li><li><p><code>params</code> - parameters that define what clients belong to a current group. Each parameter can be specified by:</p><ul><li>exact match of the property <strong>(ignoring case)</strong>. For example,<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>params: {\n  &quot;client_id&quot;: [&quot;test-win2019-tk01&quot;, &quot;qa-lin-ubuntu16&quot;]\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>Means only clients with <code>id</code> equals to <code>test-win2019-tk01</code> or <code>qa-lin-ubuntu16</code> belong to a current group.</li><li>dynamic criteria using wildcards <strong>(ignoring case)</strong>. For example,<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>params: {\n  &quot;os_family&quot;: [&quot;linux*&quot;, &quot;*win*&quot;]\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>Means all clients with <code>os_family</code> that starts with <code>linux</code> OR that contains <code>win</code> belong to a current group.</li></ul><p>NOTE: if few different parameters are given then a client belongs to this group only if client properties match all the given group parameters. If client parameter has multiple values (like <code>tags</code>, <code>ipv4</code>, <code>ipv6</code>, etc) then he belongs to a group if at least one client param matches one of group parameters. For example,</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>  params: {\n    &quot;tag&quot;: [&quot;QA&quot;, &quot;my-tag*&quot;],\n    &quot;os_family&quot;: [&quot;linux*&quot;, &quot;ubuntu*&quot;]\n  }\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Means clients belong to this group only if <strong>both</strong> conditions are met:</p><ol><li>has <code>tag</code> equals to <code>QA</code> <strong>OR</strong> <code>tag</code> that starts with <code>my-tag</code>;</li><li>its <code>os_family</code> starts with <code>linux</code> or <code>ubuntu</code>.</li></ol></li><li><p><code>client_ids</code> - read-only field that is populated with IDs of active clients that belong to this group.</p></li></ul><h2 id="manage-client-groups-via-the-api"><a class="header-anchor" href="#manage-client-groups-via-the-api">#</a> Manage client groups via the API</h2><p>Here are some examples how to manage client groups.</p><h3 id="create"><a class="header-anchor" href="#create">#</a> Create</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>curl -X POST &#39;http://localhost:3000/api/v1/client-groups&#39; \\\n-u admin:foobaz \\\n-H &#39;Content-Type: application/json&#39; \\\n--data-raw &#39;{\n    &quot;id&quot;: &quot;group-1&quot;,\n    &quot;description&quot;: &quot;This is my super client group.&quot;,\n    &quot;params&quot;:\n    {\n        &quot;tag&quot;: [&quot;QA&quot;],\n        &quot;os_family&quot;: [&quot;linux*&quot;, &quot;ubuntu*&quot;]\n    }\n}&#39;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="update"><a class="header-anchor" href="#update">#</a> Update</h3><p>Note all the parameters will be overridden.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>curl -X PUT &#39;http://localhost:3000/api/v1/client-groups/group-1&#39; \\\n-u admin:foobaz \\\n-H &#39;Content-Type: application/json&#39; \\\n--data-raw &#39;{\n    &quot;id&quot;: &quot;group-1&quot;,\n    &quot;description&quot;: &quot;This is my super client group.&quot;,\n    &quot;params&quot;:\n    {\n        &quot;tag&quot;: [&quot;QA&quot;, &quot;my-tag*&quot;],\n        &quot;os_family&quot;: [&quot;linux*&quot;, &quot;ubuntu*&quot;]\n    }\n}&#39;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="list-all-client-groups"><a class="header-anchor" href="#list-all-client-groups">#</a> List all client groups</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>curl -s -u admin:foobaz http://localhost:3000/api/v1/client-groups/group-1|jq\n{\n  &quot;data&quot;: {\n    &quot;id&quot;: &quot;group-1&quot;,\n    &quot;description&quot;: &quot;This is my super client group.&quot;,\n    &quot;params&quot;: {\n      &quot;client_id&quot;: null,\n      &quot;name&quot;: null,\n      &quot;os&quot;: null,\n      &quot;os_arch&quot;: null,\n      &quot;os_family&quot;: [\n        &quot;linux*&quot;,\n        &quot;ubuntu*&quot;\n      ],\n      &quot;os_kernel&quot;: null,\n      &quot;hostname&quot;: null,\n      &quot;ipv4&quot;: null,\n      &quot;ipv6&quot;: null,\n      &quot;tag&quot;: [\n        &quot;QA&quot;,\n        &quot;my-tag*&quot;\n      ],\n      &quot;version&quot;: null,\n      &quot;address&quot;: null,\n      &quot;client_auth_id&quot;: null\n    },\n    &quot;client_ids&quot;: [\n      &quot;qa-lin-ubuntu16&quot;,\n      &quot;qa-lin-ubuntu19&quot;,\n      &quot;qa-lin-ubuntu23&quot;\n    ]\n  }\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="delete"><a class="header-anchor" href="#delete">#</a> Delete</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>curl -u admin:foobaz -X DELETE &#39;http://localhost:3000/api/v1/client-groups/group-1&#39;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div>',13),m={render:function(n,e){const s=(0,a.up)("OutboundLink");return(0,a.wg)(),(0,a.j4)(a.HY,null,[t,l,u,(0,a.Wm)("p",null,[o,(0,a.Wm)("a",r,[i,(0,a.Wm)(s)]),p,c,b]),d],64)}}}}]);